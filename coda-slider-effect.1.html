<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta http-equiv="Content-Language" content="en-gb" />
	<meta name="description" content="" />
	<meta name="author" content="" />
	<meta name="keywords" content="" />
	<title>  Coda Slider Effect | jQuery for Designers - Tutorials and screencasts</title>
	<link rel="stylesheet" type="text/css" href="wp-content/themes/j4d/static/css/all.min.css" />
	<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="feed/rss/index.html" />
	<link rel="alternate" type="text/xml" title="RSS .92" href="feed/rss/index.html" />
	<link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="feed/atom/index.html" />

	<link rel="pingback" href="xmlrpc.php" />
		<link rel='archives' title='June 2011' href='2011/06/index.html' />
	<link rel='archives' title='February 2011' href='2011/02/index.html' />
	<link rel='archives' title='August 2010' href='2010/08/index.html' />
	<link rel='archives' title='July 2010' href='2010/07/index.html' />
	<link rel='archives' title='April 2010' href='2010/04/index.html' />
	<link rel='archives' title='March 2010' href='2010/03/index.html' />
	<link rel='archives' title='January 2010' href='2010/01/index.html' />
	<link rel='archives' title='October 2009' href='2009/10/index.html' />
	<link rel='archives' title='September 2009' href='2009/09/index.html' />
	<link rel='archives' title='August 2009' href='2009/08/index.html' />
	<link rel='archives' title='July 2009' href='2009/07/index.html' />
	<link rel='archives' title='June 2009' href='2009/06/index.html' />
	<link rel='archives' title='April 2009' href='2009/04/index.html' />
	<link rel='archives' title='March 2009' href='2009/03/index.html' />
	<link rel='archives' title='February 2009' href='2009/02/index.html' />
	<link rel='archives' title='January 2009' href='2009/01/index.html' />
	<link rel='archives' title='December 2008' href='2008/12/index.html' />
	<link rel='archives' title='October 2008' href='2008/10/index.html' />
	<link rel='archives' title='August 2008' href='2008/08/index.html' />
	<link rel='archives' title='July 2008' href='2008/07/index.html' />
	<link rel='archives' title='June 2008' href='2008/06/index.html' />
	<link rel='archives' title='May 2008' href='2008/05/index.html' />
	<link rel='archives' title='April 2008' href='2008/04/index.html' />
	<link rel='archives' title='March 2008' href='2008/03/index.html' />
	<link rel='archives' title='February 2008' href='2008/02/index.html' />
	<link rel='archives' title='January 2008' href='2008/01/index.html' />
	<link rel='archives' title='December 2007' href='2007/12/index.html' />
<link rel="alternate" type="application/rss+xml" title="jQuery for Designers &raquo; Coda Slider Effect Comments Feed" href="coda-slider-effect/feed/index.html" />
<link rel='stylesheet' id='msw_wpfm_scan-css'  href='wp-content/plugins/wordpress-file-monitor/wordpress-file-monitor.php%3Fver=scan.html' type='text/css' media='all' />
<script type='text/javascript' src='http://jqueryfordesigners.com/wp-includes/js/jquery/jquery.js?ver=1.7.1'></script>
<script type='text/javascript' src='wp-content/plugins/wp-ajax-edit-comments/js-includes/wp-ajax-edit-comments.js.php%3Fver=1.1.html'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="xmlrpc.php%3Frsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://jqueryfordesigners.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Help make jQuery for Designers better' href='index.html%3Fp=13.html' />
<link rel='next' title='Image Fade Revisited' href='image-fade-revisited.1.html' />
<meta name="generator" content="WordPress 3.3.1" />
<link rel='canonical' href='coda-slider-effect.1.html' />
<link rel='shortlink' href='index.html%3Fp=14.html' />
<link type="text/css" rel="stylesheet" href="wp-content/plugins/wp-ajax-edit-comments/css/editComments.css" />
</head>
<body id="articlePage">


	<!-- BEGIN header -->
	<div id="topstrap">
		<ul>
      <!-- <li class="new"><strong>New!</strong> <a href="http://full-frontal.org">Full Frontal - the JavaScript conference</a></li> -->
			<li class="subscribe">Subscribe to our <a class="feed" href="feed/rss/index.html">Articles</a> <a class="podcast" href="http://phobos.apple.com/WebObjects/MZStore.woa/wa/viewPodcast?id=281057468">Podcast</a></li>
		</ul>
	</div>
	
	<div id="header" class="clearFix">
	
		<div class="minWidth">	
			<h1><a href="index.html"><span>jQuery for Designers</span></a></h1>
			
			<ul id="filter">
				<li>Filter by</li>
				<!-- <li><a href="/">All</a></li> -->
				<li><a href="tag/easy/index.html">Easy</a></li>
				<li><a href="tag/medium/index.html">Medium</a></li>
				<li><a href="tag/hard/index.html">Hard</a></li>
				<li id="searchLink"><a href="coda-slider-effect.1.html#searchForm">Search</a></li>
			</ul>
			
		</div>	
	</div>
	<!-- END header -->
	
	<!-- BEGIN titleHolder -->
	<div id="titleHolder" class="clearFix">
		<div class="titleHolderInner">
		<div id="scrollButtons">
			<div class="minWidth clearFix">
	
        <ul class="clearFix" id="articleStrip">
      <li class="selected"><a title="Coda Slider Effect" href="coda-slider-effect.1.html"><img alt="Coda Slider Effect" src="images/video/coda-slider-thumb.gif" /></a><em class="selected">Selected</em></li>
<li><a title="Help make jQuery for Designers better" href="index.html%3Fp=13.html"><img alt="Help make jQuery for Designers better" src="wp-content/themes/j4d/static/images/titleholder_placeholder.gif" /></a></li>
<li><a title="Image Cross Fade Transition" href="index.html%3Fp=12.html"><img alt="Image Cross Fade Transition" src="images/video/image-fade-thumb.gif" /></a></li>
<li><a title="Coda Popup Bubbles" href="coda-popup-bubbles.1.html"><img alt="Coda Popup Bubbles" src="images/video/coda-bubbles-thumb.gif" /></a></li>
<li><a title="Slider Gallery" href="slider-gallery.1.html"><img alt="Slider Gallery" src="images/video/slider-gallery-thumb.gif" /></a></li>
<li><a title="Image Loading" href="index.html%3Fp=9.html"><img alt="Image Loading" src="images/video/image-loading-thumb.gif" /></a></li>
<li><a title="jQuery Tabs" href="index.html%3Fp=8.html"><img alt="jQuery Tabs" src="images/video/tabs-thumb.gif" /></a></li>
<li><a title="Slide out and drawer effect" href="index.html%3Fp=7.html"><img alt="Slide out and drawer effect" src="images/video/slide-draw-thumb.gif" /></a></li>
<li><a title="Using Ajax to Validate Forms" href="index.html%3Fp=6.html"><img alt="Using Ajax to Validate Forms" src="images/video/validate-thumb.gif" /></a></li>
<li><a title="It&#8217;s all about CSS" href="index.html%3Fp=4.html"><img alt="It&#8217;s all about CSS" src="images/video/css-thumb.gif" /></a></li><li class="new"><a title="Simple use of Event Delegation" href="index.html%3Fp=343.html"><img alt="Simple use of Event Delegation" src="images/video/event-delegation-thumb.gif" /><em>New</em></a></li>
<li><a title="Populate Select Boxes" href="index.html%3Fp=328.html"><img alt="Populate Select Boxes" src="images/video/select-boxes-thumb.gif" /></a></li>
<li><a title="Scroll Linked Navigation" href="index.html%3Fp=309.html"><img alt="Scroll Linked Navigation" src="images/video/scroll-link-nav_thumb.gif" /></a></li>
<li><a title="Debugging Tools" href="index.html%3Fp=290.html"><img alt="Debugging Tools" src="images/video/debuggers_thumb.gif" /></a></li>
<li><a title="Enabling the Back Button" href="index.html%3Fp=252.html"><img alt="Enabling the Back Button" src="http://static.jqueryfordesigners.com/images/video/bbq_thumb.gif" /></a></li>
<li><a title="J4D update: My Book, Other Books, Workshops and talks" href="index.html%3Fp=247.html"><img alt="J4D update: My Book, Other Books, Workshops and talks" src="wp-content/themes/j4d/static/images/titleholder_placeholder.gif" /></a></li>
<li><a title="Adding Keyboard Navigation" href="index.html%3Fp=231.html"><img alt="Adding Keyboard Navigation" src="http://static.jqueryfordesigners.com/images/video/keyboard-nav-thumb.jpg" /></a></li>
<li><a title="Fixed Floating Elements" href="index.html%3Fp=214.html"><img alt="Fixed Floating Elements" src="http://static.jqueryfordesigners.com/images/video/fixedfloat-thumb.gif" /></a></li>
<li><a title="Want to learn more about JavaScript? Go Full Frontal!" href="index.html%3Fp=199.html"><img alt="Want to learn more about JavaScript? Go Full Frontal!" src="wp-content/themes/j4d/static/images/titleholder_placeholder.gif" /></a></li>
<li><a title="iPhone-like Sliding Headers" href="index.html%3Fp=190.html"><img alt="iPhone-like Sliding Headers" src="images/video/header-slide-thumb.jpg" /></a></li>
<li><a title="Automatic Infinite Carousel" href="index.html%3Fp=158.html"><img alt="Automatic Infinite Carousel" src="images/video/infinite-auto-thumb.jpg" /></a></li>
<li><a title="Play School: Broken Repeating Animations" href="index.html%3Fp=145.html"><img alt="Play School: Broken Repeating Animations" src="images/video/repeat-effect-thumb.png" /></a></li>
<li><a title="API: queue &#038; dequeue" href="index.html%3Fp=135.html"><img alt="API: queue &#038; dequeue" src="images/video/queue-thumb.gif" /></a></li>
<li><a title="jQuery Infinite Carousel" href="index.html%3Fp=128.html"><img alt="jQuery Infinite Carousel" src="images/video/infinite-thumb.jpg" /></a></li>
<li><a title="jQuery for Designers: In Live Action" href="index.html%3Fp=123.html"><img alt="jQuery for Designers: In Live Action" src="wp-content/themes/j4d/static/images/titleholder_placeholder.gif" /></a></li>
<li><a title="Return to normal scheduling" href="index.html%3Fp=120.html"><img alt="Return to normal scheduling" src="wp-content/themes/j4d/static/images/titleholder_placeholder.gif" /></a></li>
<li><a title="SlideDown Animation Jump Revisited" href="index.html%3Fp=89.html"><img alt="SlideDown Animation Jump Revisited" src="images/video/animation-jump2-thumb.gif" /></a></li>
<li><a title="BBC Radio 1 Zoom Tabs" href="index.html%3Fp=81.html"><img alt="BBC Radio 1 Zoom Tabs" src="images/video/radio1-thumb.gif" /></a></li>
<li><a title="API: map &#038; grep" href="index.html%3Fp=75.html"><img alt="API: map &#038; grep" src="images/video/mapgrep-thumb.gif" /></a></li>
<li><a title="SXSW, Server Issues and Redesign" href="index.html%3Fp=54.html"><img alt="SXSW, Server Issues and Redesign" src="wp-content/themes/j4d/static/images/titleholder_placeholder.gif" /></a></li>
<li><a title="jQuery look: Tim Van Damme" href="index.html%3Fp=25.html"><img alt="jQuery look: Tim Van Damme" src="images/video/tvd-thumb.jpg" /></a></li>
<li><a title="How to tell if an element exists" href="index.html%3Fp=24.html"><img alt="How to tell if an element exists" src="images/video/element-exists-thumb.jpg" /></a></li>
<li><a title="The Book and The Redesign" href="index.html%3Fp=23.html"><img alt="The Book and The Redesign" src="wp-content/themes/j4d/static/images/titleholder_placeholder.gif" /></a></li>
<li><a title="Ajax Spy" href="index.html%3Fp=22.html"><img alt="Ajax Spy" src="images/video/ajax-spy-thumb.jpg" /></a></li>
<li><a title="Play School: Easy Ajax &#8211; load" href="index.html%3Fp=21.html"><img alt="Play School: Easy Ajax &#8211; load" src="images/video/api-load-thumb.jpg" /></a></li>
<li><a title="API: Filter &#038; Find" href="index.html%3Fp=20.html"><img alt="API: Filter &#038; Find" src="images/video/api-filter-find-thumb.jpg" /></a></li>
<li><a title="Simple jQuery Spy Effect" href="index.html%3Fp=19.html"><img alt="Simple jQuery Spy Effect" src="images/video/simple-spy-thumb.jpg" /></a></li>
<li><a title="Fun with Overflows" href="index.html%3Fp=18.html"><img alt="Fun with Overflows" src="images/video/overflows-thumb.jpg" /></a></li>
<li><a title="Two New Series" href="index.html%3Fp=17.html"><img alt="Two New Series" src="wp-content/themes/j4d/static/images/titleholder_placeholder.gif" /></a></li>
<li><a title="Animation Jump &#8211; quick tip" href="animation-jump-quick-tip.1.html"><img alt="Animation Jump &#8211; quick tip" src="images/video/animation-jump-thumb.gif" /></a></li>
<li><a title="Image Fade Revisited" href="image-fade-revisited.1.html"><img alt="Image Fade Revisited" src="images/video/image-fade-revisited-thumb.gif" /></a></li>        </ul>
      </div>
		
		</div>


		<form id="searchForm" action="index.html">

			<fieldset>
		
				<legend>Search</legend>
				
				<label for="search">Search for</label>
				<input type="text" id="search" placeholder="screencasts &amp; tutorials" name="s" value="" /><input class="button" type="submit" value="Find articles" />
				
			</fieldset>
	
		</form>

		</div>
	</div>
	<!-- END titleHolder -->
	
  <!-- content -->
	<div id="content" class="clearFix">
<div class="header">
		<h1><a href="coda-slider-effect.1.html" rel="bookmark">Coda Slider Effect</a></h1>

		<p><span>Posted on 3rd June 2008 &mdash;</span> Although <a href="http://panic.com">Panic</a> didn&#8217;t really invent the effect, the sliding panels on the <a href="http://www.panic.com/coda/" title="Panic - Coda - One-Window Web Development for Mac OS X">Coda</a> is great implementation of this effect.</p>

<p>This article will pick apart the pieces required to create the effect, and how to better it.
</p>
    <ul id="articleNav">
      <li class="prev"><a href="index.html%3Fp=13.html" rel="prev">Earlier: <em>Help make jQuery for Designers better</em></a></li>
      <li class="next"><a href="image-fade-revisited.1.html" rel="next">Next: <em>Image Fade Revisited</em></a></li>
    </ul>
</div>
<div id="carbonads-container"><div class="carbonad"><div id="azcarbon"></div><script type="text/javascript">var z = document.createElement("script"); z.type = "text/javascript"; z.async = true; z.src = "http://engine.carbonads.com/z/12976/azcarbon_2_1_0_HORIZ"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(z, s);</script></div></div>
		<ul class="articleNav clearFix">
			<li class="tabTutorial"><a class="tutorial selected" href="coda-slider-effect.1.html"><span>Tutorial</span></a></li>
						<li class="tabDemo"><a class="demo" href="demo/coda-slider.html"><span>Try Demo</span></a></li>			<li class="tabCode"><a class="code" href="coda-slider-effect.1.html"><span>View Code</span></a></li>
			<li class="tabComments"><a class="comments" href="coda-slider-effect.1.html#allcomments"><em>594</em> <span>Comments</span></a></li>
		</ul>
		
        <div id="article" class="clearFix">
		
			<div class="copy">
            
		    <div id="viewport" class="tutorial">
                <div id="tutorial" class="tab">
    				    				  <div id="videoPreview">
      					<ul>
      						<li><a class="quicktime_video" href="media/coda-slider.mov"><img alt="QuickTime version" src="wp-content/themes/j4d/static/images/video_quicktime.png"/>Play QuickTime version <span class="download">Right click to download</span></a></li>
      						<li><a class="flash_video" href="media/coda-slider.flv"><img alt="Flash version" src="wp-content/themes/j4d/static/images/video_flash.png"/>Play Flash version <span class="download">Right click to download</span></a></li>
      					</ul>
      					<img src="images/video/coda-slider.jpg" alt="Coda Slider Effect" />
      				</div>
    				
    				            
            
                <p><span id="more-14"></span></p>

<h3>How to Solve the Problem</h3>

<p>Recreating this effect is simple to do if you know what plugins to use.  There are plugins out in the wild already, but we want our jQuery to satisfy the following requirements:</p>

<ol>
<li>Degrades perfectly without JavaScript enabled</li>
<li>Sliding panels effect without hogging browser CPU</li>
<li>Next and previous buttons added using JavaScript because they hold no use without JavaScript</li>
<li>Hitting the page with a specific hash (i.e. page.html#preview) shows the right tab, and highlights the right navigation</li>
<li>Any link on the page that refers back to a panel should trigger the effect and highlight the right navigation &#8211; this should happen <em>without</em> any extra work</li>
</ol>

<p><small>The hash is the emphasised part (including the # symbol) in: http://jqueryfordesigners.com/page.html<em>#example</em></small></p>

<p>In fact, our version of this slider will be better than Panic&#8217;s and the current jQuery plugins if we can meet all of the requirements.</p>

<p>For example, in the Panic example <a href="http://www.panic.com/coda/#preview-pane">linking directly to the preview pane</a> doesn&#8217;t correctly highlight the navigation. </p>

<p>This whole solution is going to rely heavily on <a href="http://flesler.blogspot.com/">Ariel Flesler&#8217;s</a> <a href="http://flesler.blogspot.com/2007/10/jqueryscrollto.html">scrollTo plugin</a> and particularly it&#8217;s &#8216;adapters&#8217; to enhance the power of the scrollTo plugin.</p>

<p>I&#8217;ve provided a screencast to walk through how create this functionality. Details on how and what I used can be found below.</p>

<p><a class="movie" href="media/coda-slider.mov">Watch the coda slider effect screencast</a> (<a href="video.php%3Ff=coda-slider.flv.html">alternative flash version</a>)</p>

<p>QuickTime version is approx. 90Mb, flash version is streaming &#8211; I&#8217;ve also noticed the sound is slightly over to the left &#8211; I&#8217;ll fix that for next time!)</p>

<p><a href="demo/coda-slider.html" class="source">View the demo and source code used in the screencast</a></p>

<h3>Plugins Required</h3>

<p>Along with <a href="http://jquery.com">jQuery</a> we&#8217;ll need the following plugins &#8211; I recommend using the minified versions for production, and perhaps even development (download links can be found at the bottom of the linked pages):</p>

<ul>
<li><a href="http://flesler.blogspot.com/2007/10/jqueryscrollto.html">scrollTo</a></li>
<li><a href="http://flesler.blogspot.com/2007/10/jquerylocalscroll-10.html">localScroll</a></li>
<li><a href="http://flesler.blogspot.com/2008/02/jqueryserialscroll.html">serialScroll</a></li>
</ul>

<h3>Markup</h3>

<p><em>Requirement 1: degrades perfectly without JavaScript enabled</em></p>

<p>To ensure this works without JavaScript, we will use the CSS overflow property to control the effect.</p>

<p>This way our panels will still focus in to view if a user clicks, or if the URL refers to a specific panel.</p>

<h4>HTML</h4>

<p>It&#8217;s worth noting that although we could scroll the individual panels inside a single nested DIV, for the JavaScript to make the effect work, it will be a nested DIV that will scroll &#8211; not the individual panels.  You can see this in the markup below:</p>

<pre><code>&lt;div id=&quot;slider&quot;&gt;
  &lt;ul class=&quot;navigation&quot;&gt;
    &lt;li&gt;&lt;a href=&quot;#sites&quot;&gt;Sites&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;#files&quot;&gt;Files&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;#editor&quot;&gt;Editor&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;#preview&quot;&gt;Preview&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;#css&quot;&gt;CSS&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;#terminal&quot;&gt;Terminal&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;#books&quot;&gt;Books&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;

  &lt;!-- element with overflow applied --&gt;
  &lt;div class=&quot;scroll&quot;&gt;
    &lt;!-- the element that will be scrolled during the effect --&gt;
    &lt;div class=&quot;scrollContainer&quot;&gt;
      &lt;!-- our individual panels --&gt;
      &lt;div class=&quot;panel&quot; id=&quot;sites&quot;&gt; ... &lt;/div&gt;
      &lt;div class=&quot;panel&quot; id=&quot;files&quot;&gt; ... &lt;/div&gt;
      &lt;div class=&quot;panel&quot; id=&quot;editor&quot;&gt; ... &lt;/div&gt;
      &lt;div class=&quot;panel&quot; id=&quot;preview&quot;&gt; ... &lt;/div&gt;
      &lt;div class=&quot;panel&quot; id=&quot;css&quot;&gt; ... &lt;/div&gt;
      &lt;div class=&quot;panel&quot; id=&quot;terminal&quot;&gt; ... &lt;/div&gt;
      &lt;div class=&quot;panel&quot; id=&quot;books&quot;&gt; ... &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>

<p>That&#8217;s it.  Without CSS this markup works perfectly for our content, almost exactly <a href="index.html%3Fp=8.html">the way tabs work</a> without JavaScript and CSS.</p>

<h4>CSS</h4>

<p>I won&#8217;t detail <a href="demo/coda-slider.css">all the CSS</a> like the navigation or shading effects &#8211; just the CSS required to correctly create the effect.</p>

<pre><code>#slider {
  width: 620px;
  margin: 0 auto;
  position: relative;
}

.scroll {
  height: 250px;
  overflow: auto;
  position: relative; /* fix for IE to respect overflow */
  clear: left;
  background: #FFFFFF url(images/content_pane-gradient.gif) repeat-x scroll left bottom;
}

.scrollContainer div.panel {
  padding: 20px;
  height: 210px;
  width: 580px; /* change to 560px if not using JS to remove rh.scroll */
}</code></pre>

<p>Note also that I&#8217;m choosing to use <code>overflow: auto;</code> &#8211; this way, if the user <em>does</em> have JavaScript disabled, there will be a visual que that the panels can be scrolled.  If you want to remove the horizontal scroll in IE, I would recommend changing <code>.scrollContainer div.panel</code>&#8216;s width to 560px to account for the right hand scrollbar.</p>

<p>I also plan to include scrolling buttons to go left and right.  Although the elements will be created by the JavaScript, we&#8217;ll still need the CSS to place the buttons in the right place.  Our JavaScript will put the buttons before and after the outer <code>div.scroll</code> element.  We have to use absolute positioning to place them, so this is why <code>#slider</code> has <code>position: relative;</code> applied:</p>

<pre><code>.scrollButtons {
  position: absolute;
  top: 150px;
  cursor: pointer;
}

.scrollButtons.left {
  left: -20px;
}

.scrollButtons.right {
  right: -20px;
}</code></pre>

<h3>jQuery</h3>

<p><em>Requirement 2: Sliding panels effect without hogging browser CPU</em></p>

<p>If you try this effect using CSS, to use positioning to move the panels around it will eat up your CPU, and the browser will no likely lock up.  This is why we&#8217;re using Ariel&#8217;s scrollTo pluing.  The scrollTo plugin literally scrolls the element via it&#8217;s overflow (or can be used to scroll the actual window).</p>

<h4>Required Plugins</h4>

<pre><code>&lt;script src=&quot;jquery-1.2.6.min.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;jquery.scrollTo-1.3.3-min.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;jquery.localscroll-1.2.5-min.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;jquery.serialScroll-1.2.1-min.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</code></pre>

<h4>Next and Previous Buttons</h4>

<p><em>Requirement 3: Back and forward buttons added</em></p>

<p>This is easy <em>vanilla</em> jQuery, here&#8217;s the snippet from the final code:</p>

<pre><code>var $scroll = $('#slider .scroll');

$scroll
  .before(&#x27;&lt;img class=&quot;scrollButtons left&quot; src=&quot;images/scroll_left.png&quot; /&gt;&#x27;)
  .after(&#x27;&lt;img class=&quot;scrollButtons right&quot; src=&quot;images/scroll_right.png&quot; /&gt;&#x27;);
</code></pre>

<p>Note the classes I&#8217;ve applied the <code>scrollButtons</code> to the images so they&#8217;ll be positioned properly.</p>

<h4>Navigation Updates Automatically</h4>

<p><em>Requirement 4: Hitting the page with a specific hash highlights the right navigation</em></p>

<p>This is one of the key features that I felt was important to the slider.  If I navigated to a specific panel, the navigation should match.</p>

<p>This is achieved using event binding.  When the scroll plugin completes it&#8217;s effect, it will call our trigger function.</p>

<p>The trigger function will receive the ID of the element it has just shown, and search for the navigation item whose href&#8217;s hash matches the ID.</p>

<p>For example, if the <code>div#sites</code> element is shown, the ID &#8216;sites&#8217; is sent to our trigger.  Our trigger function will now look for links in the navigation that end with &#8216;#sites&#8217;: <code>&lt;a href="#sites"&gt;Sites&lt;/a&gt;</code>.</p>

<p>This trigger function will be attached to the <code>onAfter</code> property in the scroll options and called when the page loads for the first time with a hash in the URL.</p>

<pre><code>// bind the navigation clicks to update the selected nav:
$('#slider .navigation').find('a').click(selectNav);

// handle nav selection - lots of nice chaining :-)
function selectNav() {
  $(this)
    .parents('ul:first') // find the first UL parent
      .find('a') // find all the A elements
        .removeClass('selected') // remove from all
      .end() // go back to all A elements
    .end() // go back to 'this' element
    .addClass('selected');
}

function trigger(data) {
  // within the .navigation element, find the A element
  // whose href ends with ID ($= is <a href="http://remysharp.com/jquery-api/attributeEndsWith">ends with</a>)
  var el = $('#slider .navigation').find('a[href$="' + data.id + '"]').get(0);
  
  // we're passing the <em>actual</em> element, and not the jQuery instance.
  selectNav.call(el);
}</code></pre>

<p>I&#8217;ve had to separate out the <code>selectNav</code> function because it also be called when the user clicks on the navigation links.</p>

<p>To complete this requirement, once the page is loaded, we need to check whether there is a hash on the URL, and if so, trigger the &#8216;scrollerComplete&#8217; function:</p>

<pre><code>if (window.location.hash) {
  trigger({ id : window.location.hash.substr(1)});
} else {
  $('#slider .navigation a:first').click();
}</code></pre>

<p>By default, we&#8217;re triggering a click to the first navigation item if there&#8217;s no hash on the URL.</p>

<h4>Any Link Triggers Effect</h4>

<p><em>Requirement 5: Any link on the page that refers back to a panel should trigger the effect</em></p>

<p>Since we&#8217;re all lazy developers, we don&#8217;t want to have to specifically markup arbitrary links on the page that should trigger this effect.</p>

<p>This is where Ariel&#8217;s localScroll plugin comes to the rescue.  By just applying that plugin with our default settings any link on the page will trigger the effect.  In addition, because we&#8217;re going to trigger our &#8216;scrollerComplete&#8217; function when the effect has finished, it will correctly select the navigation associated.</p>

<h4>The jQuery Code</h4>

<p>Here&#8217;s the code with all the above requirements added in.  The code is commented to explain what we&#8217;re doing.</p>

<p>I&#8217;ve also decided to include a bonus requirement &#8211; to support both horizontal or vertical scrolling.</p>

<pre><code>// when the DOM is ready...
$(document).ready(function () {

var $panels = $('#slider .scrollContainer > div');
var $container = $('#slider .scrollContainer');

// if false, we'll float all the panels left and fix the width 
// of the container
var horizontal = true;

// float the panels left if we're going horizontal
if (horizontal) {
  $panels.css({
    'float' : 'left',
    'position' : 'relative' // IE fix to ensure overflow is hidden
  });
  
  // calculate a new width for the container (so it holds all panels)
  $container.css('width', $panels[0].offsetWidth * $panels.length);
}

// collect the scroll object, at the same time apply the hidden overflow
// to remove the default scrollbars that will appear
var $scroll = $('#slider .scroll').css('overflow', 'hidden');

// apply our left + right buttons
$scroll
  .before(&#x27;&lt;img class=&quot;scrollButtons left&quot; src=&quot;images/scroll_left.png&quot; /&gt;&#x27;)
  .after(&#x27;&lt;img class=&quot;scrollButtons right&quot; src=&quot;images/scroll_right.png&quot; /&gt;&#x27;);

// handle nav selection
function selectNav() {
  $(this)
    .parents('ul:first')
      .find('a')
        .removeClass('selected')
      .end()
    .end()
    .addClass('selected');
}

$('#slider .navigation').find('a').click(selectNav);

// go find the navigation link that has this target and select the nav
function trigger(data) {
  var el = $('#slider .navigation').find('a[href$="' + data.id + '"]').get(0);
  selectNav.call(el);
}

if (window.location.hash) {
  trigger({ id : window.location.hash.substr(1) });
} else {
  $('ul.navigation a:first').click();
}

// offset is used to move to *exactly* the right place, since I'm using
// padding on my example, I need to subtract the amount of padding to
// the offset.  Try removing this to get a good idea of the effect
var offset = parseInt((horizontal ? 
  $container.css('paddingTop') : 
  $container.css('paddingLeft')) 
  || 0) * -1;


var scrollOptions = {
  target: $scroll, // the element that has the overflow
  
  // can be a selector which will be relative to the target
  items: $panels,
  
  navigation: '.navigation a',
  
  // selectors are NOT relative to document, i.e. make sure they're unique
  prev: 'img.left', 
  next: 'img.right',
  
  // allow the scroll effect to run both directions
  axis: 'xy',
  
  onAfter: trigger, // our final callback
  
  offset: offset,
  
  // duration of the sliding effect
  duration: 500,
  
  // easing - can be used with the easing plugin: 
  // <a href="http://gsgd.co.uk/sandbox/jquery/easing/">http://gsgd.co.uk/sandbox/jquery/easing/</a>
  easing: 'swing'
};

// apply serialScroll to the slider - we chose this plugin because it 
// supports// the indexed next and previous scroll along with hooking 
// in to our navigation.
$('#slider').serialScroll(scrollOptions);

// now apply localScroll to hook any other arbitrary links to trigger 
// the effect
$.localScroll(scrollOptions);

// finally, if the URL has a hash, move the slider in to position, 
// setting the duration to 1 because I don't want it to scroll in the
// very first page load.  We don't always need this, but it ensures
// the positioning is absolutely spot on when the pages loads.
scrollOptions.duration = 1;
$.localScroll.hash(scrollOptions);

});</code></pre>

<h3>Wrap UP</h3>

<p>That&#8217;s everything you need for the perfect slider. Ariel has lots of other examples of how the scroll plugins can be used on his <a href="http://flesler.blogspot.com/">web site</a> so do check them out.</p>

<p>I&#8217;ll also be posting a follow up to last month&#8217;s survey.</p>

<p>If anyone has any questions, suggestions or better examples, please do share by dropping a comment on the site.</p>
                <p class="follow">You should follow me on Twitter <a href="http://twitter.com/rem">here</a> <span class="note">I tweet about jQuery amongst the usual tweet-splurges!</span></p>
                
                