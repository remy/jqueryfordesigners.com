<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta http-equiv="Content-Language" content="en-gb" />
	<meta name="description" content="" />
	<meta name="author" content="" />
	<meta name="keywords" content="" />
	<title>  jQuery look: Tim Van Damme | jQuery for Designers - Tutorials and screencasts</title>
	<link rel="stylesheet" type="text/css" href="wp-content/themes/j4d/static/css/all.min.css" />
	<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="feed/rss/index.html" />
	<link rel="alternate" type="text/xml" title="RSS .92" href="feed/rss/index.html" />
	<link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="feed/atom/index.html" />

	<link rel="pingback" href="xmlrpc.php" />
		<link rel='archives' title='June 2011' href='2011/06/index.html' />
	<link rel='archives' title='February 2011' href='2011/02/index.html' />
	<link rel='archives' title='August 2010' href='2010/08/index.html' />
	<link rel='archives' title='July 2010' href='2010/07/index.html' />
	<link rel='archives' title='April 2010' href='2010/04/index.html' />
	<link rel='archives' title='March 2010' href='2010/03/index.html' />
	<link rel='archives' title='January 2010' href='2010/01/index.html' />
	<link rel='archives' title='October 2009' href='2009/10/index.html' />
	<link rel='archives' title='September 2009' href='2009/09/index.html' />
	<link rel='archives' title='August 2009' href='2009/08/index.html' />
	<link rel='archives' title='July 2009' href='2009/07/index.html' />
	<link rel='archives' title='June 2009' href='2009/06/index.html' />
	<link rel='archives' title='April 2009' href='2009/04/index.html' />
	<link rel='archives' title='March 2009' href='2009/03/index.html' />
	<link rel='archives' title='February 2009' href='2009/02/index.html' />
	<link rel='archives' title='January 2009' href='2009/01/index.html' />
	<link rel='archives' title='December 2008' href='2008/12/index.html' />
	<link rel='archives' title='October 2008' href='2008/10/index.html' />
	<link rel='archives' title='August 2008' href='2008/08/index.html' />
	<link rel='archives' title='July 2008' href='2008/07/index.html' />
	<link rel='archives' title='June 2008' href='2008/06/index.html' />
	<link rel='archives' title='May 2008' href='2008/05/index.html' />
	<link rel='archives' title='April 2008' href='2008/04/index.html' />
	<link rel='archives' title='March 2008' href='2008/03/index.html' />
	<link rel='archives' title='February 2008' href='2008/02/index.html' />
	<link rel='archives' title='January 2008' href='2008/01/index.html' />
	<link rel='archives' title='December 2007' href='2007/12/index.html' />
<link rel="alternate" type="application/rss+xml" title="jQuery for Designers &raquo; jQuery look: Tim Van Damme Comments Feed" href="jquery-look-tim-van-damme/feed/index.html" />
<link rel='stylesheet' id='msw_wpfm_scan-css'  href='wp-content/plugins/wordpress-file-monitor/wordpress-file-monitor.php%3Fver=scan.html' type='text/css' media='all' />
<script type='text/javascript' src='http://jqueryfordesigners.com/wp-includes/js/jquery/jquery.js?ver=1.7.1'></script>
<script type='text/javascript' src='wp-content/plugins/wp-ajax-edit-comments/js-includes/wp-ajax-edit-comments.js.php%3Fver=1.1.html'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="xmlrpc.php%3Frsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://jqueryfordesigners.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='How to tell if an element exists' href='index.html%3Fp=24.html' />
<link rel='next' title='SXSW, Server Issues and Redesign' href='index.html%3Fp=54.html' />
<meta name="generator" content="WordPress 3.3.1" />
<link rel='canonical' href='index.html%3Fp=25.html' />
<link rel='shortlink' href='index.html%3Fp=25.html' />
<link type="text/css" rel="stylesheet" href="wp-content/plugins/wp-ajax-edit-comments/css/editComments.css" />
</head>
<body id="articlePage">


	<!-- BEGIN header -->
	<div id="topstrap">
		<ul>
      <!-- <li class="new"><strong>New!</strong> <a href="http://full-frontal.org">Full Frontal - the JavaScript conference</a></li> -->
			<li class="subscribe">Subscribe to our <a class="feed" href="feed/rss/index.html">Articles</a> <a class="podcast" href="http://phobos.apple.com/WebObjects/MZStore.woa/wa/viewPodcast?id=281057468">Podcast</a></li>
		</ul>
	</div>
	
	<div id="header" class="clearFix">
	
		<div class="minWidth">	
			<h1><a href="index.html"><span>jQuery for Designers</span></a></h1>
			
			<ul id="filter">
				<li>Filter by</li>
				<!-- <li><a href="/">All</a></li> -->
				<li><a href="tag/easy/index.html">Easy</a></li>
				<li><a href="tag/medium/index.html">Medium</a></li>
				<li><a href="tag/hard/index.html">Hard</a></li>
				<li id="searchLink"><a href="index.html%3Fp=25.html#searchForm">Search</a></li>
			</ul>
			
		</div>	
	</div>
	<!-- END header -->
	
	<!-- BEGIN titleHolder -->
	<div id="titleHolder" class="clearFix">
		<div class="titleHolderInner">
		<div id="scrollButtons">
			<div class="minWidth clearFix">
	
        <ul class="clearFix" id="articleStrip">
      <li class="selected"><a title="jQuery look: Tim Van Damme" href="index.html%3Fp=25.html"><img alt="jQuery look: Tim Van Damme" src="images/video/tvd-thumb.jpg" /></a><em class="selected">Selected</em></li>
<li><a title="How to tell if an element exists" href="index.html%3Fp=24.html"><img alt="How to tell if an element exists" src="images/video/element-exists-thumb.jpg" /></a></li>
<li><a title="The Book and The Redesign" href="index.html%3Fp=23.html"><img alt="The Book and The Redesign" src="wp-content/themes/j4d/static/images/titleholder_placeholder.gif" /></a></li>
<li><a title="Ajax Spy" href="index.html%3Fp=22.html"><img alt="Ajax Spy" src="images/video/ajax-spy-thumb.jpg" /></a></li>
<li><a title="Play School: Easy Ajax &#8211; load" href="index.html%3Fp=21.html"><img alt="Play School: Easy Ajax &#8211; load" src="images/video/api-load-thumb.jpg" /></a></li>
<li><a title="API: Filter &#038; Find" href="index.html%3Fp=20.html"><img alt="API: Filter &#038; Find" src="images/video/api-filter-find-thumb.jpg" /></a></li>
<li><a title="Simple jQuery Spy Effect" href="index.html%3Fp=19.html"><img alt="Simple jQuery Spy Effect" src="images/video/simple-spy-thumb.jpg" /></a></li>
<li><a title="Fun with Overflows" href="index.html%3Fp=18.html"><img alt="Fun with Overflows" src="images/video/overflows-thumb.jpg" /></a></li>
<li><a title="Two New Series" href="index.html%3Fp=17.html"><img alt="Two New Series" src="wp-content/themes/j4d/static/images/titleholder_placeholder.gif" /></a></li>
<li><a title="Animation Jump &#8211; quick tip" href="animation-jump-quick-tip.1.html"><img alt="Animation Jump &#8211; quick tip" src="images/video/animation-jump-thumb.gif" /></a></li>
<li><a title="Image Fade Revisited" href="image-fade-revisited.1.html"><img alt="Image Fade Revisited" src="images/video/image-fade-revisited-thumb.gif" /></a></li>
<li><a title="Coda Slider Effect" href="coda-slider-effect.1.html"><img alt="Coda Slider Effect" src="images/video/coda-slider-thumb.gif" /></a></li>
<li><a title="Help make jQuery for Designers better" href="index.html%3Fp=13.html"><img alt="Help make jQuery for Designers better" src="wp-content/themes/j4d/static/images/titleholder_placeholder.gif" /></a></li>
<li><a title="Image Cross Fade Transition" href="index.html%3Fp=12.html"><img alt="Image Cross Fade Transition" src="images/video/image-fade-thumb.gif" /></a></li>
<li><a title="Coda Popup Bubbles" href="coda-popup-bubbles.1.html"><img alt="Coda Popup Bubbles" src="images/video/coda-bubbles-thumb.gif" /></a></li>
<li><a title="Slider Gallery" href="slider-gallery.1.html"><img alt="Slider Gallery" src="images/video/slider-gallery-thumb.gif" /></a></li>
<li><a title="Image Loading" href="index.html%3Fp=9.html"><img alt="Image Loading" src="images/video/image-loading-thumb.gif" /></a></li>
<li><a title="jQuery Tabs" href="index.html%3Fp=8.html"><img alt="jQuery Tabs" src="images/video/tabs-thumb.gif" /></a></li>
<li><a title="Slide out and drawer effect" href="index.html%3Fp=7.html"><img alt="Slide out and drawer effect" src="images/video/slide-draw-thumb.gif" /></a></li>
<li><a title="Using Ajax to Validate Forms" href="index.html%3Fp=6.html"><img alt="Using Ajax to Validate Forms" src="images/video/validate-thumb.gif" /></a></li>
<li><a title="It&#8217;s all about CSS" href="index.html%3Fp=4.html"><img alt="It&#8217;s all about CSS" src="images/video/css-thumb.gif" /></a></li><li class="new"><a title="Simple use of Event Delegation" href="index.html%3Fp=343.html"><img alt="Simple use of Event Delegation" src="images/video/event-delegation-thumb.gif" /><em>New</em></a></li>
<li><a title="Populate Select Boxes" href="index.html%3Fp=328.html"><img alt="Populate Select Boxes" src="images/video/select-boxes-thumb.gif" /></a></li>
<li><a title="Scroll Linked Navigation" href="index.html%3Fp=309.html"><img alt="Scroll Linked Navigation" src="images/video/scroll-link-nav_thumb.gif" /></a></li>
<li><a title="Debugging Tools" href="index.html%3Fp=290.html"><img alt="Debugging Tools" src="images/video/debuggers_thumb.gif" /></a></li>
<li><a title="Enabling the Back Button" href="index.html%3Fp=252.html"><img alt="Enabling the Back Button" src="http://static.jqueryfordesigners.com/images/video/bbq_thumb.gif" /></a></li>
<li><a title="J4D update: My Book, Other Books, Workshops and talks" href="index.html%3Fp=247.html"><img alt="J4D update: My Book, Other Books, Workshops and talks" src="wp-content/themes/j4d/static/images/titleholder_placeholder.gif" /></a></li>
<li><a title="Adding Keyboard Navigation" href="index.html%3Fp=231.html"><img alt="Adding Keyboard Navigation" src="http://static.jqueryfordesigners.com/images/video/keyboard-nav-thumb.jpg" /></a></li>
<li><a title="Fixed Floating Elements" href="index.html%3Fp=214.html"><img alt="Fixed Floating Elements" src="http://static.jqueryfordesigners.com/images/video/fixedfloat-thumb.gif" /></a></li>
<li><a title="Want to learn more about JavaScript? Go Full Frontal!" href="index.html%3Fp=199.html"><img alt="Want to learn more about JavaScript? Go Full Frontal!" src="wp-content/themes/j4d/static/images/titleholder_placeholder.gif" /></a></li>
<li><a title="iPhone-like Sliding Headers" href="index.html%3Fp=190.html"><img alt="iPhone-like Sliding Headers" src="images/video/header-slide-thumb.jpg" /></a></li>
<li><a title="Automatic Infinite Carousel" href="index.html%3Fp=158.html"><img alt="Automatic Infinite Carousel" src="images/video/infinite-auto-thumb.jpg" /></a></li>
<li><a title="Play School: Broken Repeating Animations" href="index.html%3Fp=145.html"><img alt="Play School: Broken Repeating Animations" src="images/video/repeat-effect-thumb.png" /></a></li>
<li><a title="API: queue &#038; dequeue" href="index.html%3Fp=135.html"><img alt="API: queue &#038; dequeue" src="images/video/queue-thumb.gif" /></a></li>
<li><a title="jQuery Infinite Carousel" href="index.html%3Fp=128.html"><img alt="jQuery Infinite Carousel" src="images/video/infinite-thumb.jpg" /></a></li>
<li><a title="jQuery for Designers: In Live Action" href="index.html%3Fp=123.html"><img alt="jQuery for Designers: In Live Action" src="wp-content/themes/j4d/static/images/titleholder_placeholder.gif" /></a></li>
<li><a title="Return to normal scheduling" href="index.html%3Fp=120.html"><img alt="Return to normal scheduling" src="wp-content/themes/j4d/static/images/titleholder_placeholder.gif" /></a></li>
<li><a title="SlideDown Animation Jump Revisited" href="index.html%3Fp=89.html"><img alt="SlideDown Animation Jump Revisited" src="images/video/animation-jump2-thumb.gif" /></a></li>
<li><a title="BBC Radio 1 Zoom Tabs" href="index.html%3Fp=81.html"><img alt="BBC Radio 1 Zoom Tabs" src="images/video/radio1-thumb.gif" /></a></li>
<li><a title="API: map &#038; grep" href="index.html%3Fp=75.html"><img alt="API: map &#038; grep" src="images/video/mapgrep-thumb.gif" /></a></li>
<li><a title="SXSW, Server Issues and Redesign" href="index.html%3Fp=54.html"><img alt="SXSW, Server Issues and Redesign" src="wp-content/themes/j4d/static/images/titleholder_placeholder.gif" /></a></li>        </ul>
      </div>
		
		</div>


		<form id="searchForm" action="index.html">

			<fieldset>
		
				<legend>Search</legend>
				
				<label for="search">Search for</label>
				<input type="text" id="search" placeholder="screencasts &amp; tutorials" name="s" value="" /><input class="button" type="submit" value="Find articles" />
				
			</fieldset>
	
		</form>

		</div>
	</div>
	<!-- END titleHolder -->
	
  <!-- content -->
	<div id="content" class="clearFix">
<div class="header">
		<h1><a href="index.html%3Fp=25.html" rel="bookmark">jQuery look: Tim Van Damme</a></h1>

		<p><span>Posted on 20th February 2009 &mdash;</span> Jonathan Diba writes to ask how the effects are achieve on <a href="http://timvandamme.com/" title="Tim Van Damme">Tim Van Damme&#8217;s</a> portfolio site, referring to Tim&#8217;s site as one of the <em>most compelling site design</em> he&#8217;s seen.</p>

<p>The two key effects Tim is using are a simplified accordion and a hover effect.  It&#8217;s worth noting that the hover effect only works in WebKit (Safari &amp; Chrome), but I&#8217;ll show you how to create the effect using jQuery too.
</p>
    <ul id="articleNav">
      <li class="prev"><a href="index.html%3Fp=24.html" rel="prev">Earlier: <em>How to tell if an element exists</em></a></li>
      <li class="next"><a href="index.html%3Fp=54.html" rel="next">Next: <em>SXSW, Server Issues and Redesign</em></a></li>
    </ul>
</div>
<div id="carbonads-container"><div class="carbonad"><div id="azcarbon"></div><script type="text/javascript">var z = document.createElement("script"); z.type = "text/javascript"; z.async = true; z.src = "http://engine.carbonads.com/z/12976/azcarbon_2_1_0_HORIZ"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(z, s);</script></div></div>
		<ul class="articleNav clearFix">
			<li class="tabTutorial"><a class="tutorial selected" href="index.html%3Fp=25.html"><span>Tutorial</span></a></li>
						<li class="tabDemo"><a class="demo" href="demo/timvandamme.html"><span>Try Demo</span></a></li>			<li class="tabCode"><a class="code" href="index.html%3Fp=25.html"><span>View Code</span></a></li>
			<li class="tabComments"><a class="comments" href="index.html%3Fp=25.html#allcomments"><em>39</em> <span>Comments</span></a></li>
		</ul>
		
        <div id="article" class="clearFix">
		
			<div class="copy">
            
		    <div id="viewport" class="tutorial">
                <div id="tutorial" class="tab">
    				    				  <div id="videoPreview">
      					<ul>
      						<li><a class="quicktime_video" href="media/timvandamme.mov"><img alt="QuickTime version" src="wp-content/themes/j4d/static/images/video_quicktime.png"/>Play QuickTime version <span class="download">Right click to download</span></a></li>
      						<li><a class="flash_video" href="media/timvandamme.flv"><img alt="Flash version" src="wp-content/themes/j4d/static/images/video_flash.png"/>Play Flash version <span class="download">Right click to download</span></a></li>
      					</ul>
      					<img src="images/video/tvd.jpg" alt="jQuery look: Tim Van Damme" />
      				</div>
    				
    				            
            
                <p><span id="more-25"></span></p>

<h2>Watch</h2>

<p><a href="media/timvandamme.mov" class="movie">Watch jQuery look: Tim Van Damme screencast</a> (<a href="video.php%3Ff=timvandamme.flv.html">Alternative flash version</a>)</p>

<p>QuickTime version is approximately 60Mb, flash version is streaming.</p>

<p><a class="source" href="demo/timvandamme.html">View the demo used in the screencast</a></p>

<h2>Deconstructing the effects</h2>

<p>The first thing we need to do is look at the site in a WebKit browser (Safari&#8217;s my poison) and in a non-WebKit (Firefox will do), then view the page with JavaScript turned off, then look at the URLs and see the effect of landing on the page with the hash in the URL.</p>

<h2>Hover shift</h2>

<p>The roll over effect on the <code>li</code> elements (Twitter, Delicious, etc) shift softly to the left in WebKit.  In Firefox they jump.</p>

<p>If you look at the stylesheet you&#8217;ll see this is being achieved with <a href="http://webkit.org/specs/CSSVisualEffects/CSSTransitions.html" title="CSS Transitions">CSS transitions</a>:</p>

<pre><code>#networks li a img {
    float: left;
    margin: 0 10px 0 15px;
    <strong>-webkit-transition: margin-left 0.25s linear;</strong>
}

#networks li a:hover img {
    margin-left: 10px;
}</code></pre>

<p>I&#8217;m a big fan of <a href="http://adactio.com/journal/1503/">Progressive Enrichment</a>, but there&#8217;s still an argument for matching functionality across browsers (government funded projects for instance) &#8211; so let&#8217;s look at doing this in jQuery so that all browser have the same functionality.</p>

<p>There&#8217;s actually two aspects we need to recreate using jQuery:</p>

<ol>
<li>Animated margin-left</li>
<li>Background <a href="http://www.css3.info/preview/rgba/">rgba</a> crossfade (to create a darkened effect)</li>
</ol>

<h3>Animated margin-left</h3>

<p>This is relatively simple.  Tim&#8217;s site is floating the icon to the left, so the text rests against it.  So when you hover over the link, the margin-left is reduced to 5px from 10px.</p>

<pre><code>$('a').hover(function () {
  $('img', this).stop().animate({
    marginLeft : 5
  }, 250);
}, function () {
  $('img', this).stop().animate({
    marginLeft : 10
  }, 250);
});</code></pre>

<p>This code triggers when the user hovers over the anchor element and animates the margin-left over 250ms. </p>

<p>We include the <code>.stop()</code> function to prevent the animation from continuously firing (give it a try without the .stop to see the effect).</p>

<p>However! We want the effect to still work without JavaScript enabled, so the following CSS is in place:</p>

<pre><code>a:hover img {
  margin-left: 5px;
}</code></pre>

<p>The problem now is that when we roll the mouse over the anchor element for the first time it jumps to the left.  Subsequent times it doesn&#8217;t jump.  This is because an inline style is being applied.</p>

<p>To fix this we can apply the default margin-left manually (this is a nasty work around, but does the trick for this effect):</p>

<pre><code>$('a').hover(fn1, fn2).css('marginLeft', 10);</code></pre>

<p><small>Where fn1 and fn2 are the functions defined earlier.</small></p>

<h3>Recreating rgba</h3>

<p>Next up is recreating the rgba CSS3 effect.  rgba is background colour with alpha transparency as the fourth parameter, e.g.:</p>

<pre><code>background: rgba(164, 173, 183, .15);</code></pre>

<p>I will be the first one to point out that this is a rather extreme approach to achieving this effect, and I would in all cases fight to use plain CSS to achieve this effect.</p>

<p>However, in the name of education &#8211; let&#8217;s see how we can create this effect.</p>

<p>We will need a block div that sits within the anchor element, using <code>position: absolute</code> and filling the area being the link.  We can&#8217;t simply change the opacity of the background as this will change the opacity of the entire DOM fragment.  </p>

<p>When the user hovers over the anchor element, we will fade the opacity up and down between 0 and 0.15.</p>

<pre><code>// insert the rgba fader element
$('a').each(function () {
  $('&lt;div class=&quot;fader&quot; /&gt;').prependTo(this);
})... // chain the hover functions</code></pre>

<p>We style the element as:</p>

<pre><code>.fader {
  opacity: 0;
  -moz-opacity: 0;
  filter:alpha(opacity=0);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 60px; /* because IE6 isn't listen to 100% */
  background-color: #A4ADB7;
}</code></pre>

<p>I also noticed a problem in IE6, similar to the jumping margin &#8211; where the background become solid the first time and then fades correctly.  So I&#8217;ve changed the prepend to set the opacity at the same time.</p>

<pre><code>$('&lt;div class=&quot;fader&quot; /&gt;').css('opacity', 0).prependTo(this);</code></pre>

<p>Now we include the fake rgba element fading in the hover function:</p>

<pre><code>.hover(function () {
  $('img', this).stop().animate({
    marginLeft : 5
  }, 250);
  
  $('.fader', this).stop().animate({
    opacity : 0.15
  });
}, function () {
  $('img', this).stop().animate({
    marginLeft : 10
  }, 250);
  
  $('.fader', this).stop().animate({
    opacity : 0
  });
});</code></pre>

<p>This completes the hover effect.</p>

<h2>Accordion bounce</h2>

<p>Accordion bounce is just a name I&#8217;ve made up.  The effect is an accordion, but since it&#8217;s dropping down and up again, I&#8217;m saying it bounces!</p>

<p>If you look carefully when tabbing between the panels not only does the panel slide up and down, but it also fades out as it&#8217;s sliding up.</p>

<p>Also if you play with Tim&#8217;s version and click many tabs the slide effect goes a little haywire &#8211; which is where the <code>.stop()</code> method is required.  However, there&#8217;s also a small jump that happens when switching from the &#8216;contact&#8217; to the &#8216;about&#8217;.  This is because the <code>slideDown</code> method uses the last height that it was before a call to <code>slideUp</code>.  In this demonstration, I&#8217;m going to try to prevent both of the subtle issues.</p>

<h3>Markup</h3>

<p>The markup for my example is your basic ul + div combo that you&#8217;ll see in any traditional tab markup pattern.</p>

<pre><code>&lt;div&gt;
  &lt;ul&gt;...&lt;/ul&gt;
  &lt;div class=&quot;panels&quot;&gt;
    &lt;div id=&quot;a&quot;&gt;...&lt;/div&gt;
    &lt;div id=&quot;b&quot;&gt;...&lt;/div&gt;
    &lt;div id=&quot;c&quot;&gt;...&lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>

<h3>jQuery</h3>

<p>I&#8217;ve written the code so that it&#8217;s the beginnings of a plugin and can be dropped in to any web site with a small tweak in the code here and here.</p>

<p>Our animation requires the following steps to work:</p>

<ol>
<li>Clicking on any navigation link will trigger the animation</li>
<li>If the link is already selected, we&#8217;ll ignore the animation</li>
<li>Remove the selected class from the navigation and add it to the currently clicked link</li>
<li>If the browser supports opacity, fade the panels out<sup>&dagger;</sup></li>
<li>Slide the panel container up</li>
<li>Once the slide up is finished, show the select panel, and slide down</li>
<li>Finally, when the page has loaded, if a hash is on the URL, show that panel or show the first panel</li>
</ol>

<p><small>&dagger; This is because IE6&#8242;s cleartype issue causes the text to look rather nasty when animating.</small></p>

<h4>Setup</h4>

<p>There&#8217;s a number of items we need to capture at the beginning of our code to create the effect.</p>

<pre><code>// as we're creating the beginnings of a plugin - let's start with .each
$('.navigation').each(function () {
  var $links = $(this).find('a'), // collect the links
  
    // run through the link's hash and create #network,#about,#contact
    panelIds = $links.map(function() { return this.hash; }).get().join(","),
  
    // now grab a jQuery instance of these elements, i.e. the 3 panels
    $panels = $(panelIds),
  
    // look for the wrapping element and cache it
    $panelwrapper = $panels.filter(':first').parent(),
  
    // animation delay, so everything runs together
    delay = 500,
  
    /* animation height offset - required to avoid the jumping
       we could/should calculate this by adding following from $panelwrapper:
        o margin-top
        o margin-bottom
        o padding-top
        o padding-bottom
    */
    heightOffset = 40; 
    
  // hide all the panels initially
  $panels.hide();
  
  // TODO add click handler code
});</code></pre>

<p>The line:</p>

<pre><code>panelIds = $links.map(function() { return this.hash; }).get().join(","),</code></pre>

<p>Is using the <a href="http://docs.jquery.com/Traversing/map#callback"><code>map</code></a> function to loop through all the navigation links, and return a jQuery object containing only the ids of the anchors.  By calling <code>.get().join(',')</code> it returns a CSV of ids, which we can then use as a selector.  This is the equivalent to:</p>

<pre><code>$panels = $('#networks, #about, #contact');</code></pre>

<h4>Click handler</h4>

<p>The click handler code is where all the animation happens, and we have to tick our list off from above.</p>

<pre><code>$links.click(function () {
  // cache a copy of the DOM element, and jQueryifed element
  var link = this, 
    $link = $(this);
  
  // (2) If the link is already selected, we'll ignore the animation
  if ($link.is('.selected')) {
    return false;
  }
  
  // (3) Remove the selected class from the navigation and add it to 
  // the currently clicked link
  $links.removeClass('selected');
  $link.addClass('selected');
  
  // a nice touch from Tim's version, change the document title,
  // this could use link.title if we wanted to show something different
  document.title = 'jQuery look: Tim Van Damme - ' + $link.text();
  
  // (4) If the browser supports opacity, fade the panels out
  if ($.support.opacity) {
    $panels.stop().animate({opacity: 0 }, delay);
  }
  
  // Slide the panel container up, we're using animate to avoid jumping issues
  $panelwrapper.stop().animate({
    height: 0
  }, delay, function () {
    var height = $panels.hide() // hide all panels again
      .filter(link.hash) // narrow down to this, e.g. #contact
        .css('opacity', 1) // reset the opacity (from step 4)
        .show() // reset the display prop (also from step 4)
        .height() + heightOffset; // return and store the height to animate to
    
    // (6) Once the slide up is finished, show the select panel, and slide down
    $panelwrapper.animate({
      height: height
    }, delay);
  });
});</code></pre>

<h4>Auto-selection</h4>

<p>The final task to support hashes on the URL (step 7 above).  So we add the following code below the click handler:</p>

<pre><code>// if there is a hash on the url, filter the links by the hash prop
var toshow = window.location.hash ? '[hash=' + window.location.hash + ']' : ':first';
// now filter the links by the selector, and trigger a click.
$links.filter(toshow).click();</code></pre>

<p><a href="demo/timvandamme.html">You can view the final working version from this tutorial and the screencast</a></p>
                <p class="follow">You should follow me on Twitter <a href="http://twitter.com/rem">here</a> <span class="note">I tweet about jQuery amongst the usual tweet-splurges!</span></p>
                
                